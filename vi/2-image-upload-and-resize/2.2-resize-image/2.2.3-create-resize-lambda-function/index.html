<!DOCTYPE html>
<html lang="vi" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.92.2" />
    <meta name="description" content="">
<meta name="author" content="journeyoftheaverageguy@gmail.com">

    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>Tạo hàm Lambda Resize :: Tạo mới tài khoản AWS</title>

    
    <link href="/css/nucleus.css?1752320867" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1752320867" rel="stylesheet">
    <link href="/css/hybrid.css?1752320867" rel="stylesheet">
    <link href="/css/featherlight.min.css?1752320867" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1752320867" rel="stylesheet">
    <link href="/css/auto-complete.css?1752320867" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1752320867" rel="stylesheet">
    <link href="/css/theme.css?1752320867" rel="stylesheet">
    <link href="/css/hugo-theme.css?1752320867" rel="stylesheet">
    
    <link href="/css/theme-workshop.css?1752320867" rel="stylesheet">
    
    

    <script src="/js/jquery-3.3.1.min.js?1752320867"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/vi/2-image-upload-and-resize/2.2-resize-image/2.2.3-create-resize-lambda-function/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="/">

<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 30" width="30%"><defs><style>.cls-1{fill:#fff;}.cls-2{fill:#f90;fill-rule:evenodd;}</style></defs><title>AWS-Logo_White-Color</title><path class="cls-1" d="M14.09,10.85a4.7,4.7,0,0,0,.19,1.48,7.73,7.73,0,0,0,.54,1.19.77.77,0,0,1,.12.38.64.64,0,0,1-.32.49l-1,.7a.83.83,0,0,1-.44.15.69.69,0,0,1-.49-.23,3.8,3.8,0,0,1-.6-.77q-.25-.42-.51-1a6.14,6.14,0,0,1-4.89,2.3,4.54,4.54,0,0,1-3.32-1.19,4.27,4.27,0,0,1-1.22-3.2A4.28,4.28,0,0,1,3.61,7.75,6.06,6.06,0,0,1,7.69,6.46a12.47,12.47,0,0,1,1.76.13q.92.13,1.91.36V5.73a3.65,3.65,0,0,0-.79-2.66A3.81,3.81,0,0,0,7.86,2.3a7.71,7.71,0,0,0-1.79.22,12.78,12.78,0,0,0-1.79.57,4.55,4.55,0,0,1-.58.22l-.26,0q-.35,0-.35-.52V2a1.09,1.09,0,0,1,.12-.58,1.2,1.2,0,0,1,.47-.35A10.88,10.88,0,0,1,5.77.32,10.19,10.19,0,0,1,8.36,0a6,6,0,0,1,4.35,1.35,5.49,5.49,0,0,1,1.38,4.09ZM7.34,13.38a5.36,5.36,0,0,0,1.72-.31A3.63,3.63,0,0,0,10.63,12,2.62,2.62,0,0,0,11.19,11a5.63,5.63,0,0,0,.16-1.44v-.7a14.35,14.35,0,0,0-1.53-.28,12.37,12.37,0,0,0-1.56-.1,3.84,3.84,0,0,0-2.47.67A2.34,2.34,0,0,0,5,11a2.35,2.35,0,0,0,.61,1.76A2.4,2.4,0,0,0,7.34,13.38Zm13.35,1.8a1,1,0,0,1-.64-.16,1.3,1.3,0,0,1-.35-.65L15.81,1.51a3,3,0,0,1-.15-.67.36.36,0,0,1,.41-.41H17.7a1,1,0,0,1,.65.16,1.4,1.4,0,0,1,.33.65l2.79,11,2.59-11A1.17,1.17,0,0,1,24.39.6a1.1,1.1,0,0,1,.67-.16H26.4a1.1,1.1,0,0,1,.67.16,1.17,1.17,0,0,1,.32.65L30,12.39,32.88,1.25A1.39,1.39,0,0,1,33.22.6a1,1,0,0,1,.65-.16h1.54a.36.36,0,0,1,.41.41,1.36,1.36,0,0,1,0,.26,3.64,3.64,0,0,1-.12.41l-4,12.86a1.3,1.3,0,0,1-.35.65,1,1,0,0,1-.64.16H29.25a1,1,0,0,1-.67-.17,1.26,1.26,0,0,1-.32-.67L25.67,3.64,23.11,14.34a1.26,1.26,0,0,1-.32.67,1,1,0,0,1-.67.17Zm21.36.44a11.28,11.28,0,0,1-2.56-.29,7.44,7.44,0,0,1-1.92-.67,1,1,0,0,1-.61-.93v-.84q0-.52.38-.52a.9.9,0,0,1,.31.06l.42.17a8.77,8.77,0,0,0,1.83.58,9.78,9.78,0,0,0,2,.2,4.48,4.48,0,0,0,2.43-.55,1.76,1.76,0,0,0,.86-1.57,1.61,1.61,0,0,0-.45-1.16A4.29,4.29,0,0,0,43,9.22l-2.41-.76A5.15,5.15,0,0,1,38,6.78a3.94,3.94,0,0,1-.83-2.41,3.7,3.7,0,0,1,.45-1.85,4.47,4.47,0,0,1,1.19-1.37A5.27,5.27,0,0,1,40.51.29,7.4,7.4,0,0,1,42.6,0a8.87,8.87,0,0,1,1.12.07q.57.07,1.08.19t.95.26a4.27,4.27,0,0,1,.7.29,1.59,1.59,0,0,1,.49.41.94.94,0,0,1,.15.55v.79q0,.52-.38.52a1.76,1.76,0,0,1-.64-.2,7.74,7.74,0,0,0-3.2-.64,4.37,4.37,0,0,0-2.21.47,1.6,1.6,0,0,0-.79,1.48,1.58,1.58,0,0,0,.49,1.18,4.94,4.94,0,0,0,1.83.92L44.55,7a5.08,5.08,0,0,1,2.57,1.6A3.76,3.76,0,0,1,47.9,11a4.21,4.21,0,0,1-.44,1.93,4.4,4.4,0,0,1-1.21,1.47,5.43,5.43,0,0,1-1.85.93A8.25,8.25,0,0,1,42.05,15.62Z"></path><path class="cls-2" d="M45.19,23.81C39.72,27.85,31.78,30,25,30A36.64,36.64,0,0,1,.22,20.57c-.51-.46-.06-1.09.56-.74A49.78,49.78,0,0,0,25.53,26.4,49.23,49.23,0,0,0,44.4,22.53C45.32,22.14,46.1,23.14,45.19,23.81Z"></path><path class="cls-2" d="M47.47,21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74,3.13-2.2,8.27-1.57,8.86-.83s-.16,5.89-3.09,8.35c-.45.38-.88.18-.68-.32C46.69,25.8,48.17,22.11,47.47,21.21Z"></path></svg>

</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1752320867"></script>
<script type="text/javascript" src="/js/auto-complete.js?1752320867"></script>
<script type="text/javascript">
    
        var baseurl = "\/vi";
    
</script>
<script type="text/javascript" src="/js/search.js?1752320867"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/vi/1-introduce/" title="Introduction" class="dd-item 
        
        
        
        ">
      <a href="/vi/1-introduce/">
           <b> 1. </b>Introduction
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/2-image-upload-and-resize/" title="Xử lý tải ảnh và tối ưu kích thước ảnh" class="dd-item 
        parent
        
        
        ">
      <a href="/vi/2-image-upload-and-resize/">
           <b> 2. </b> Xử lý tải ảnh và tối ưu kích thước ảnh
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/vi/2-image-upload-and-resize/2.1-upload-original-image/" title="Xử lý tải ảnh gốc" class="dd-item 
        
        
        
        ">
      <a href="/vi/2-image-upload-and-resize/2.1-upload-original-image/">
           <b> 2.1. </b> Xử lý tải ảnh gốc
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/vi/2-image-upload-and-resize/2.1-upload-original-image/2.1.1-create-s3-bucket/" title="Tạo S3 Bucket" class="dd-item 
        
        
        
        ">
      <a href="/vi/2-image-upload-and-resize/2.1-upload-original-image/2.1.1-create-s3-bucket/">
           <b> 2.1.1. </b> Tạo S3 Bucket
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/2-image-upload-and-resize/2.1-upload-original-image/2.1.2-create-iam-role/" title="Tạo IAM Role cho Lambda GetPresignedUrl" class="dd-item 
        
        
        
        ">
      <a href="/vi/2-image-upload-and-resize/2.1-upload-original-image/2.1.2-create-iam-role/">
           <b> 2.1.1. </b> Tạo IAM Role cho Lambda GetPresignedUrl
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/2-image-upload-and-resize/2.1-upload-original-image/2.1.3-create-presignedurl-lambda-function/" title="Tạo hàm Lambda GetPresignedUrl" class="dd-item 
        
        
        
        ">
      <a href="/vi/2-image-upload-and-resize/2.1-upload-original-image/2.1.3-create-presignedurl-lambda-function/">
           <b> 2.1.3. </b> Tạo hàm Lambda GetPresignedUrl
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/2-image-upload-and-resize/2.2-resize-image/" title="Xử lý tối ưu kích thước ảnh" class="dd-item 
        parent
        
        
        ">
      <a href="/vi/2-image-upload-and-resize/2.2-resize-image/">
           <b> 2.2. </b> Xử lý tối ưu kích thước ảnh
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/vi/2-image-upload-and-resize/2.2-resize-image/2.2.1-create-s3-buckets/" title="Tạo S3 Bucket" class="dd-item 
        
        
        
        ">
      <a href="/vi/2-image-upload-and-resize/2.2-resize-image/2.2.1-create-s3-buckets/">
           <b> 2.2.1. </b> Tạo S3 Bucket
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/2-image-upload-and-resize/2.2-resize-image/2.2.2-create-iam-role/" title="Tạo IAM Role cho Lambda ResizeImage" class="dd-item 
        
        
        
        ">
      <a href="/vi/2-image-upload-and-resize/2.2-resize-image/2.2.2-create-iam-role/">
           <b> 2.2.2. </b> Tạo IAM Role cho Lambda ResizeImage
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/2-image-upload-and-resize/2.2-resize-image/2.2.3-create-resize-lambda-function/" title="Tạo hàm Lambda Resize" class="dd-item 
        parent
        active
        
        ">
      <a href="/vi/2-image-upload-and-resize/2.2-resize-image/2.2.3-create-resize-lambda-function/">
           <b> 2.2.3. </b> Tạo hàm Lambda Resize
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/3-writing-data-to-amazon-dynamodb/" title="Lưu dữ liệu vào DynamoDB" class="dd-item 
        
        
        
        ">
      <a href="/vi/3-writing-data-to-amazon-dynamodb/">
           <b> 3. </b> Lưu dữ liệu vào DynamoDB
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/4-deploy-lambda-function/" title="Triển khai các hàm Lambda" class="dd-item 
        
        
        
        ">
      <a href="/vi/4-deploy-lambda-function/">
           <b> 4. </b> Triển khai các hàm Lambda
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/vi/4-deploy-lambda-function/4.1-create-iam-role-for-lambda-function/" title="Tạo IAM Role cho Lambda Function" class="dd-item 
        
        
        
        ">
      <a href="/vi/4-deploy-lambda-function/4.1-create-iam-role-for-lambda-function/">
           <b> 4.1. </b> Tạo IAM Role cho Lambda Function
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/4-deploy-lambda-function/4.2-create-or-update-lambda-function/" title="Hàm Lambda tạo hoặc cập nhập dữ liệu" class="dd-item 
        
        
        
        ">
      <a href="/vi/4-deploy-lambda-function/4.2-create-or-update-lambda-function/">
           <b> 4.2. </b> Hàm Lambda tạo hoặc cập nhập dữ liệu
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/4-deploy-lambda-function/4.3-delete-lambda-function/" title="Hàm Lambda xoá dữ liệu sản phẩm" class="dd-item 
        
        
        
        ">
      <a href="/vi/4-deploy-lambda-function/4.3-delete-lambda-function/">
           <b> 4.3. </b> Hàm Lambda xoá dữ liệu sản phẩm
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/4-deploy-lambda-function/4.4-get-lambda-function/" title="Hàm Lambda lấy dữ liệu" class="dd-item 
        
        
        
        ">
      <a href="/vi/4-deploy-lambda-function/4.4-get-lambda-function/">
           <b> 4.4. </b> Hàm Lambda lấy dữ liệu
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/5-config-api-gateway/" title="Thiết lập API Gateway" class="dd-item 
        
        
        
        ">
      <a href="/vi/5-config-api-gateway/">
           <b> 5. </b> Thiết lập API Gateway
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/vi/5-config-api-gateway/5.1-create-api-gateway/" title="Tạo api gateway" class="dd-item 
        
        
        
        ">
      <a href="/vi/5-config-api-gateway/5.1-create-api-gateway/">
           <b> 5.1. </b> Tạo api gateway
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/5-config-api-gateway/5.2-create-resource-and-method/" title="Tạo các tài nguyên và phương thức tương ứng" class="dd-item 
        
        
        
        ">
      <a href="/vi/5-config-api-gateway/5.2-create-resource-and-method/">
           <b> 5.2. </b> Tạo các tài nguyên và phương thức tương ứng
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/5-config-api-gateway/5.3-enable-cros-and-deloy/" title="Kích hoạt CORS và triển khai API" class="dd-item 
        
        
        
        ">
      <a href="/vi/5-config-api-gateway/5.3-enable-cros-and-deloy/">
           <b> 5.3. </b> Kích hoạt CORS và triển khai API
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/5-config-api-gateway/5.4-test-apis-with-postman/" title="Kiểm tra các API bằng Postman" class="dd-item 
        
        
        
        ">
      <a href="/vi/5-config-api-gateway/5.4-test-apis-with-postman/">
           <b> 5.4. </b> Kiểm tra các API bằng Postman
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/6-setup-cognito-userpool/" title="Thiết lập cấu hình Cognito UserPool" class="dd-item 
        
        
        
        ">
      <a href="/vi/6-setup-cognito-userpool/">
           <b> 6. </b> Thiết lập cấu hình Cognito UserPool
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/vi/6-setup-cognito-userpool/6.1-create-user-pool-and-setting/" title="Tạo UserPool và cấu hình" class="dd-item 
        
        
        
        ">
      <a href="/vi/6-setup-cognito-userpool/6.1-create-user-pool-and-setting/">
           <b> 6.1. </b> Tạo UserPool và cấu hình
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/6-setup-cognito-userpool/6.2-test-apis-with-postman/" title="Kiểm tra API bằng Postman" class="dd-item 
        
        
        
        ">
      <a href="/vi/6-setup-cognito-userpool/6.2-test-apis-with-postman/">
           <b> 6.2. </b> Kiểm tra API bằng Postman
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/7-authentication-and-authorization/" title="Xác thực và phân quyền" class="dd-item 
        
        
        
        ">
      <a href="/vi/7-authentication-and-authorization/">
           <b> 7. </b> Xác thực và phân quyền
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/vi/7-authentication-and-authorization/7.1-authenticate-with-cognito-api-gateway/" title="Thiết lập xác thực Cognito trong API Gateway" class="dd-item 
        
        
        
        ">
      <a href="/vi/7-authentication-and-authorization/7.1-authenticate-with-cognito-api-gateway/">
           <b> 7.1. </b> Thiết lập xác thực Cognito trong API Gateway
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/7-authentication-and-authorization/7.2-authorization-with-cognito-groups/" title="Thiết lập phân quyền Cognito groups" class="dd-item 
        
        
        
        ">
      <a href="/vi/7-authentication-and-authorization/7.2-authorization-with-cognito-groups/">
           <b> 7.2. </b> Thiết lập phân quyền Cognito groups
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/8-deploy-frontend/" title="Triển khai Frontend" class="dd-item 
        
        
        
        ">
      <a href="/vi/8-deploy-frontend/">
           <b> 8. </b> Triển khai Frontend
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/9-final-result-verification/" title="Kiểm tra kết quả cuối cùng trên giao diện " class="dd-item 
        
        
        
        ">
      <a href="/vi/9-final-result-verification/">
           <b> 9. </b> Kiểm tra kết quả cuối cùng trên giao diện 
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/10-clean-up-resources/" title="Dọn dẹp tài nguyên" class="dd-item 
        
        
        
        ">
      <a href="/vi/10-clean-up-resources/">
           <b> 10. </b> Dọn dẹp tài nguyên
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li> 
                  <a class="padding" href="http://awsstudygroup.com"><i class='fab fa-aws'></i> AWS Study Group - Blog</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://www.facebook.com/groups/awsstudygroupfcj"><i class='fab fa-facebook'></i> AWS Study Group - Nhóm FB</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
        <li>
          <a class="padding">
            <i class="fas fa-language fa-fw"></i>
          <div class="select-style">
            <select id="select-language" onchange="location = this.value;">
          
          
          
              
              
                  
                    
                    
                      <option id="en" value="/2-image-upload-and-resize/2.2-resize-image/2.2.3-create-resize-lambda-function/">English</option>
                    
                  
              
                  
              
          
              
              
                  
              
                  
                    
                    
                      <option id="vi" value="/vi/2-image-upload-and-resize/2.2-resize-image/2.2.3-create-resize-lambda-function/" selected>Tiếng Việt</option>
                    
                  
              
          
        </select>
        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
          width="255px" height="255px" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255;" xml:space="preserve">
          <g>
            <g id="arrow-drop-down">
              <polygon points="0,63.75 127.5,191.25 255,63.75 		" />
            </g>
          </g>
        </svg>
        </div>
        </a>
        </li>
      
      
      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      <left>
    
     <b> Workshop</b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7830891&style=0038&nbdigits=9&type=page&initCount=0" title="Migrate" Alt="web counter"   border="0" /></a>  <br>
     <b> <a href="https://cloudjourney.awsstudygroup.com/">Cloud Journey</a></b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7830807&style=0038&nbdigits=9&type=page&initCount=0" title="Total CLoud Journey" Alt="web counter"   border="0"   />
     
</left>
<left>
    <br>
    <br>
        <b> Last Updated </b> <br>
        <i><font color=orange>26-11-2023</font></i>
    </left>
    <left>
        <br>
        <br>
            <b> Team </b> <br>
           
            <i>
                <a href="https://www.linkedin.com/in/jotaguy"  style="color:orange">Gia Hưng</a>
        </i>
        </left>

<script async defer src="https://buttons.github.io/buttons.js"></script>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            
            
          
          
            <a href='/vi/'>Hệ thống quản lý ứng dụng web không máy chủ trên nền tảng AWS</a> > <a href='/vi/2-image-upload-and-resize/'>Xử lý tải ảnh và tối ưu kích thước ảnh</a> > <a href='/vi/2-image-upload-and-resize/2.2-resize-image/'>Xử lý tối ưu kích thước ảnh</a> > Tạo hàm Lambda Resize
          
        
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#ảnh-minh-họa-tạo-hàm-lambdaimages2-image-upload-and-resize22-resize-image24png"><img src="/images/2-image-upload-and-resize/2.2-resize-image/24.png" alt="Ảnh minh họa: Tạo hàm lambda"></a>
      <ul>
        <li></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Tạo hàm Lambda Resize
            </h1>
          

        



	<h4 id="tổng-quan">Tổng quan</h4>
<p>Trong bước này, bạn sẽ triển khai hàm Lambda có tên <strong>resize-image</strong>, với mục tiêu là tự động thay đổi kích thước và tối ưu dung lượng ảnh mỗi khi có ảnh mới được tải lên S3. Việc này giúp frontend truy cập ảnh nhanh hơn, giảm tải băng thông và tối ưu hiệu suất hiển thị.
Hàm này được viết bằng <strong>Node.js 22.x</strong> và sử dụng quyền truy cập S3 thông qua một <strong>IAM Role</strong> đã tạo từ bước trước.</p>
<h4 id="tạo-hàm-lambda-resize-image-trên-aws-console">Tạo hàm Lambda resize-image trên AWS Console</h4>
<ol>
<li>Truy cập <a href="https://console.aws.amazon.com/lambda/home">AWS Lambda Console</a>, chọn <strong>Create function</strong>.</li>
</ol>
<p><img src="/images/2-image-upload-and-resize/2.2-resize-image/16.png" alt="Ảnh minh họa: Tạo hàm lambda"></p>
<ol start="2">
<li>Ở màn hình <strong>Create function</strong>, chọn <strong>Author from scratch</strong>.Và trong phần <strong>Basic information</strong>, nhập các thông tin:</li>
</ol>
<ul>
<li><strong>Function name</strong>: <code>resize-image</code></li>
<li><strong>Runtime</strong>: <code>Node.js 22.x</code></li>
<li><strong>Architecture</strong>: <code>x86_64</code></li>
</ul>
<p><img src="/images/2-image-upload-and-resize/2.2-resize-image/17.png" alt="Ảnh minh họa: Tạo hàm lambda"></p>

<div class="notices note" ><p>Hiện tại AWS Lambda hỗ trợ nhiều ngôn ngữ như <strong>Java</strong>, <strong>.NET</strong>, <strong>Python</strong>, <strong>Node.js</strong>,&hellip;<br>
Trong hướng dẫn này, ta sử dụng <strong>Node.js 22.x</strong> – phiên bản mới nhất, hiệu năng cao và hỗ trợ cú pháp hiện đại hơn so với Node.js 18.x.</p>
</div>

<ol start="3">
<li>Ở phần <strong>Change default execution role</strong>:</li>
</ol>
<ul>
<li>Chọn: <code>Use an existing role</code></li>
<li>Sau đó chọn <strong>IAM Role</strong> bạn đã tạo, ví dụ: <code>lambda-resize-image-role</code></li>
<li>Cuối cùng chọn <strong>Create function</strong></li>
</ul>
<p>Sau khi nhấn <strong>Create function</strong>, Lambda sẽ chuyển sang giao diện chỉnh sửa mã.</p>
<p><img src="/images/2-image-upload-and-resize/2.2-resize-image/18.png" alt="Ảnh minh họa: Tạo hàm lambda"></p>
<hr>
<h4 id="triển-khai-mã-nguồn-cho-lambda-resize-image">Triển khai mã nguồn cho Lambda resize-image</h4>
<p>Bạn có thể chọn <strong>một trong hai cách sau</strong> để triển khai Lambda:</p>
<h5 id="cách-1-dùng-tệp-đã-build-sẵn-nhanh-tiện-lợi"><strong>Cách 1: Dùng tệp đã build sẵn (nhanh, tiện lợi)</strong></h5>
<blockquote>
<p>Khuyên dùng nếu bạn muốn triển khai nhanh mà không cần cài đặt gì thêm. tại này WS đã build sẵn</p>
</blockquote>
<ol>
<li>
<p>Tải file <code>.zip</code> đã <strong>build</strong> sẵn tại đây: <a href="/attachments/2-image-upload-and-resize/2.2-resize-image/resize-image-lambda.zip"><strong>resize-image.zip</strong></a></p>
</li>
<li>
<p>Sau khi tải tệp đã build xong, thực hiện các bước sau :</p>
</li>
</ol>
<ul>
<li>
<p>Vào <strong>AWS Lambda</strong>,  chọn hàm <strong>resize-image</strong></p>
</li>
<li>
<p>ở phần trang <strong>Code</strong>, bấm <strong>Upload from</strong>, sau đó chọn <strong>.zip file</strong></p>
</li>
</ul>
<p><img src="/images/2-image-upload-and-resize/2.2-resize-image/21.png" alt="Ảnh minh họa: Tạo hàm lambda"></p>
<ul>
<li>sau đó chọn <strong><code>resize-image-lambda.zip</code></strong> vừa tạo.</li>
</ul>
<p><img src="/images/2-image-upload-and-resize/2.2-resize-image/22.png" alt="Ảnh minh họa: Tạo hàm lambda"></p>
<ol start="3">
<li>Sau khi tải tệp lên xong , thì chọn <strong>deloy</strong></li>
</ol>
<p><img src="/images/2-image-upload-and-resize/2.2-resize-image/23.png" alt="Ảnh minh họa: Tạo hàm lambda"></p>
<p>Xác nhận lại handler của lambda: index.handler 

<div class="notices tip" ><p>Handler của Lambda có dạng: &lt;TÊN_FILE&gt;.&lt;TÊN_HÀM&gt;</p>
</div>
</p>
<p><img src="/images/2-image-upload-and-resize/2.2-resize-image/24.png" alt="Ảnh minh họa: Tạo hàm lambda"></p>
<ol start="4">
<li>Tiếp theo, cuộn xuống dưới xem phần hướng dẫn <strong>Cấu hình Trigger từ S3 cho Lambda resize-image</strong></li>
</ol>
<h5 id="cách-2-tự-chuẩn-bị-mã-nguồn-và-thư-viện"><strong>Cách 2: Tự chuẩn bị mã nguồn và thư viện</strong></h5>
<blockquote>
<p>Dành cho bạn nào muốn tự tay build hoặc học thêm.</p>
</blockquote>
<ol>
<li>
<p>Tải mã nguồn mẫu tại đây: <a href="/attachments/2-image-upload-and-resize/2.2-resize-image/resize-image-source.zip"><strong>resize-image-source.zip</strong></a></p>
</li>
<li>
<p>Sau khi giải nén, bạn sẽ thấy các file sau:</p>
<ul>
<li><code>index.mjs</code>: chứa logic xử lý của Lambda</li>
<li><code>package.json</code>: khai báo thư viện cần thiết</li>
</ul>
</li>
</ol>
<p><img src="/images/2-image-upload-and-resize/2.2-resize-image/19.png" alt="Ảnh minh họa: Tạo hàm lambda"></p>
<p><strong>Lưu ý</strong>
Trong WS này sử dụng <strong>sharp</strong> để xử lý ảnh :</p>
<ul>
<li>
<p>Là một native module nên sẽ được biên dịch theo hệ điều hành.</p>
</li>
<li>
<p>Lambda sử dụng môi trường Amazon Linux 2, khác hoàn toàn với Windows/macOS.</p>
</li>
<li>
<p>Nếu bạn cài sharp trên máy cá nhân (Windows), khi deploy lên Lambda sẽ gặp lỗi như <code>Error: Cannot find module 'sharp'</code>

<div class="notices warning" ><p>Để đảm bảo sharp hoạt động đúng, bạn phải sử dụng Docker với image Lambda chính thức của AWS để cài đặt các dependencies.</p>
</div>
</p>
</li>
</ul>
<ol start="3">
<li>Mở <strong>PowerShell</strong> tại thư mục chứa file Lambda và chạy lệnh sau:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker run --rm -v <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>PWD<span style="color:#e6db74">}</span><span style="color:#e6db74">:/app&#34;</span> -w /app node:22 bash -c <span style="color:#e6db74">&#34;npm instal sharp&#34;</span>
</code></pre></div><p><img src="/images/2-image-upload-and-resize/2.2-resize-image/20.png" alt="Ảnh minh họa: Tạo hàm lambda">
Nếu bạn dùng <strong>CMD</strong>, thay bằng:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker run --rm -v <span style="color:#e6db74">&#34;%cd%:/var/task&#34;</span> -w /var/task public.ecr.aws/lambda/nodejs20.x bash -c <span style="color:#e6db74">&#34;npm install sharp&#34;</span>
</code></pre></div><p><img src="/images/2-image-upload-and-resize/2.2-resize-image/19.png" alt="Ảnh minh họa: Tạo hàm lambda"></p>
<ol start="4">
<li>Nén mã nguồn để upload lên Lambda</li>
</ol>
<ul>
<li>
<p>Truy cập vào thư mục <strong>resize-image-source</strong></p>
</li>
<li>
<p>Chọn tất cả các tệp và thư mục bên trong: <strong>index.mjs</strong>,  <strong>package.json</strong>, <strong>node_modules/</strong></p>
</li>
<li>
<p>Giải nén chúng ra một tệp có tên <code>resize-image-lambda.zip</code>
<img src="/images/2-image-upload-and-resize/2.2-resize-image/21-01.png" alt="Ảnh minh họa: Tạo hàm lambda"></p>
</li>
</ul>
<ol start="5">
<li>Sau khi nén xong tệp xong</li>
</ol>
<ul>
<li>
<p>Vào <strong>AWS Lambda</strong>,  chọn hàm <strong>resize-image</strong></p>
</li>
<li>
<p>ở phần trang <strong>Code</strong>, bấm <strong>Upload from</strong>, sau đó chọn <strong>.zip file</strong></p>
</li>
</ul>
<p><img src="/images/2-image-upload-and-resize/2.2-resize-image/21.png" alt="Ảnh minh họa: Tạo hàm lambda"></p>
<ul>
<li>sau đó chọn <strong><code>resize-image-lambda.zip</code></strong> vừa tạo.</li>
</ul>
<p><img src="/images/2-image-upload-and-resize/2.2-resize-image/22.png" alt="Ảnh minh họa: Tạo hàm lambda"></p>
<ol start="7">
<li>Sau khi tải tệp lên xong , thì chọn <strong>deloy</strong></li>
</ol>
<p><img src="/images/2-image-upload-and-resize/2.2-resize-image/23.png" alt="Ảnh minh họa: Tạo hàm lambda"></p>
<p>Xác nhận lại handler của lambda: index.handler 

<div class="notices tip" ><p>Handler của Lambda có dạng: &lt;TÊN_FILE&gt;.&lt;TÊN_HÀM&gt;</p>
</div>
</p>
<h2 id="ảnh-minh-họa-tạo-hàm-lambdaimages2-image-upload-and-resize22-resize-image24png"><img src="/images/2-image-upload-and-resize/2.2-resize-image/24.png" alt="Ảnh minh họa: Tạo hàm lambda"></h2>
<h4 id="cấu-hình-trigger-từ-s3-cho-lambda-resize-image">Cấu hình Trigger từ S3 cho Lambda resize-image</h4>
<p>Sau khi bạn đã upload source code và thiết lập xong hàm Lambda resize-image, tiếp theo bạn cần cấu hình <strong>Trigger từ S3</strong> để mỗi khi một ảnh được upload lên bucket, Lambda sẽ được <strong>tự động gọi và thực hiện resize.</strong></p>
<ol>
<li>Vào trang chi tiết hàm Lambda <strong>resize-image</strong>, chuyển sang tab <strong>Configuration</strong> và sau đó chọn phần <strong>Triggers</strong>, chọn <strong>Add trigger</strong></li>
</ol>
<p><img src="/images/2-image-upload-and-resize/2.2-resize-image/25.png" alt="Ảnh minh họa: Tạo hàm lambda"></p>
<ol start="2">
<li>Trong <strong>Trigger configuration</strong>, chọn dịch vụ <strong>S3 Bucket</strong></li>
</ol>
<p><img src="/images/2-image-upload-and-resize/2.2-resize-image/26.png" alt="Ảnh minh họa: Tạo hàm lambda"></p>
<ol start="3">
<li>Trong <strong>Trigger configuration</strong> nhập các thông tin sau</li>
</ol>
<ul>
<li>
<p><strong>Bucket</strong>: Tên bucket chứa ảnh gốc , ví dụ : <code>upload-originals</code></p>
</li>
<li>
<p><strong>Event types</strong> : <code>All object create events</code></p>
</li>
<li>
<p><strong>Prefix</strong> (optional): nhập nếu ảnh được upload vào thư mục con, ví dụ: images/originals/</p>
</li>
<li>
<p><strong>Suffix</strong> (optional): giới hạn định dạng file ảnh cần xử lý</p>
</li>
<li>
<p>Đánh dấu vào ô  <strong>I acknowledge that using the same S3 bucket for both input and output is not recommended and that this configuration can cause recursive invocations, increased Lambda usage, and increased costs.</strong></p>
</li>
<li>
<p>Cuối cùng nhấn <strong>Add</strong> để hoàn tất.</p>
</li>
</ul>
<p><img src="/images/2-image-upload-and-resize/2.2-resize-image/27.png" alt="Ảnh minh họa: Tạo hàm lambda"></p>
<p><strong>Trong workshop này</strong>, bạn cần tạo <strong>2 trigger</strong> riêng biệt:</p>
<ul>
<li>
<p><strong>Trigger 1:</strong> Suffix = <code>.jpg</code></p>
</li>
<li>
<p><strong>Trigger 2:</strong> Suffix = <code>.png</code></p>
</li>
</ul>
<p>Tương tự như <strong>Trigger 1:</strong> Suffix = <code>.jpg</code>, tạo <strong>Trigger 2:</strong> Suffix = <code>.png</code> :</p>
<p><img src="/images/2-image-upload-and-resize/2.2-resize-image/28.png" alt="Ảnh minh họa: Tạo hàm lambda"></p>

<div class="notices info" ><p>Với mỗi S3 trigger trong Lambda chỉ cho phép một Suffix duy nhất. và trong workshop này sẽ tạo hai trigger : .jpg và .png</p>
</div>

<p>Việc khai báo rõ <code>Suffix</code> là rất quan trọng, giúp Lambda chỉ xử lý đúng <strong>các file ảnh</strong>, tránh lỗi và tiết kiệm chi phí vận hành.</p>
<h4 id="kết-quả">Kết quả</h4>
<p>Sau khi hoàn tất cấu hình trigger, bạn có thể kiểm tra lại tại giao diện S3 Bucket mà bạn đã chọn làm nguồn kích hoạt.</p>
<ol>
<li>Truy cập vào <strong>S3 Console</strong>, chọn <strong>bucket</strong> chứa ảnh gốc (ví dụ: <strong>upload-originals-fcj</strong>). Sau đó, chuyển sang tab <strong>Properties</strong> của bucket.</li>
</ol>
<p><img src="/images/2-image-upload-and-resize/2.2-resize-image/29.png" alt="Ảnh minh họa: Tạo hàm lambda"></p>
<ol start="2">
<li>
<p>Kéo xuống phần <strong>Event notifications</strong>, bạn sẽ thấy danh sách các <strong>event trigger</strong> đã được cấu hình. Mỗi <strong>event</strong> tương ứng với một <strong>Suffix</strong> như .jpg hoặc .png.</p>
</li>
<li>
<p>Tại đây, bạn sẽ thấy các <strong>event notification</strong> gửi đến <strong>Lambda function resize-image.</strong></p>
</li>
</ol>
<p><img src="/images/2-image-upload-and-resize/2.2-resize-image/30.png" alt="Ảnh minh họa: Tạo hàm lambda"></p>





<footer class=" footline" >
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/vi/2-image-upload-and-resize/2.2-resize-image/2.2.2-create-iam-role/" title="Tạo IAM Role cho Lambda ResizeImage"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/vi/3-writing-data-to-amazon-dynamodb/" title="Lưu dữ liệu vào DynamoDB" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1752320867"></script>
    <script src="/js/perfect-scrollbar.min.js?1752320867"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1752320867"></script>
    <script src="/js/jquery.sticky.js?1752320867"></script>
    <script src="/js/featherlight.min.js?1752320867"></script>
    <script src="/js/highlight.pack.js?1752320867"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1752320867"></script>
    <script src="/js/learn.js?1752320867"></script>
    <script src="/js/hugo-learn.js?1752320867"></script>

    <link href="/mermaid/mermaid.css?1752320867" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1752320867"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-158079754-2', 'auto');
  ga('send', 'pageview');

</script>
  </body>
</html>
